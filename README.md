# OCR 服务端应用
该项目是一个基于 Flask 和 PaddleX 的 OCR（光学字符识别）服务端应用。它提供了一个 `/ocr` 接口，支持通过图片路径、URL 或 Base64 编码的图片进行文字识别，并返回识别结果和可视化的结果图像。

## 功能特性

- **多种图片输入方式**：支持本地图片路径、网络图片 URL、Base64 编码的图片数据。
- **批量处理**：一次请求可处理多张图片，提高处理效率。
- **结果返回**：返回识别的文本、位置、多边形坐标、识别得分，以及可视化的结果图像（Base64 编码）。
- **错误处理**：对异常情况进行捕获和处理，确保服务稳定运行。

## 目录

- [OCR 服务端应用](#ocr-服务端应用)
  - [功能特性](#功能特性)
  - [目录](#目录)
  - [安装依赖](#安装依赖)
  - [项目结构](#项目结构)
  - [快速开始](#快速开始)
    - [1. 克隆项目](#1-克隆项目)
    - [2. 安装依赖](#2-安装依赖)
    - [3. 运行应用](#3-运行应用)
  - [API 使用指南](#api-使用指南)
    - [请求地址](#请求地址)
    - [请求方法](#请求方法)
    - [请求参数](#请求参数)
    - [响应结果](#响应结果)
    - [示例请求](#示例请求)
      - [1. 使用本地图片路径](#1-使用本地图片路径)
      - [2. 使用图片 URL](#2-使用图片-url)
      - [3. 使用 Base64 编码的图片](#3-使用-base64-编码的图片)
    - [示例响应](#示例响应)
  - [注意事项](#注意事项)
  - [许可证](#许可证)

## 安装依赖

在运行该项目之前，请确保已安装以下 Python 库：
```bash
pip install paddlex flask numpy pillow requests
paddlex：用于 OCR 处理。
flask：用于创建 Web 服务。
numpy 和 pillow：用于图像处理。
requests：用于处理网络请求（下载图片）。
```
## API 使用指南

### 请求地址
```bash
POST http://localhost:6666/ocr
```
### 请求方法
- post
### 请求参数

请求体为 JSON 格式，支持以下字段：

- img：图片路径或图片路径列表（本地路径）。
- image：图片 URL 或图片 URL 列表。
- img_base64：Base64 编码的图片数据或列表。
- inferenceParams（可选）：推理参数，支持以下字段：
  - maxLongSide：指定图像的最长边，用于调整图像大小。
### 响应结果
响应为 JSON 格式，包含以下字段：

- errorCode：错误码，0 表示成功，非 0 表示失败。
- errorMsg：错误信息。
- result：识别结果列表，每个元素对应一张输入的图片，包含：
- texts：识别的文本列表，每个元素包含：
  - poly：文本区域的多边形顶点坐标。
  - text：识别的文本内容。
  - score：识别得分。
- image：可视化的结果图像（Base64 编码）。
